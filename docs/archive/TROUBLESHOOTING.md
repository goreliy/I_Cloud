# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## –ü—Ä–æ–±–ª–µ–º—ã —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

### ‚ùå "–ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏, –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ /login"

**–ü—Ä–∏—á–∏–Ω–∞**: Cookie –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–†–µ—à–µ–Ω–∏–µ**:
1. –û—á–∏—Å—Ç–∏—Ç–µ cookies –±—Ä–∞—É–∑–µ—Ä–∞
2. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12) ‚Üí Application ‚Üí Cookies
3. –£–¥–∞–ª–∏—Ç–µ cookie `access_token`
4. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —Å–Ω–æ–≤–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```bash
# –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞:
document.cookie
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: access_token=...
```

---

### ‚ùå "Invalid token" –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–ü—Ä–∏—á–∏–Ω–∞**: –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∞—Ä—Å–∏—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –í `.env` —É–≤–µ–ª–∏—á—å—Ç–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞:
```env
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 —á–∞—Å–∞
```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
python run.py
```

3. –í–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ

---

### ‚ùå "Not authenticated" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–∞–Ω–∞–ª–∞

**–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω –∏–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ —á–∏—Ç–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ (–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å email)
2. –ï—Å–ª–∏ –Ω–µ –≤–æ—à–ª–∏ - –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ /login
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ `.env`:
```env
AUTH_ENABLED=true
```

---

## –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### ‚ùå "no such table: users"

**–ü—Ä–∏—á–∏–Ω–∞**: –¢–∞–±–ª–∏—Ü—ã –Ω–µ —Å–æ–∑–¥–∞–Ω—ã

**–†–µ—à–µ–Ω–∏–µ**:
```bash
python init_db.py
```

---

### ‚ùå "Unable to open database file"

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# Windows
icacls . /grant Users:F

# Linux/Mac
chmod 755 .
```

---

### ‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å PostgreSQL

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω:
```bash
# Linux
sudo systemctl status postgresql

# Windows
# Services ‚Üí PostgreSQL
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```bash
psql -U postgres -h localhost
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL –≤ `.env`

---

## –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

### ‚ùå "ModuleNotFoundError: No module named 'email_validator'"

**–†–µ—à–µ–Ω–∏–µ**:
```bash
pip install email-validator
```

---

### ‚ùå "ModuleNotFoundError: No module named 'fastapi'"

**–†–µ—à–µ–Ω–∏–µ**:
```bash
pip install -r requirements.txt
```

---

### ‚ùå –û—à–∏–±–∫–∏ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ psycopg2-binary

**Windows**:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Visual C++ Build Tools
# –ó–∞—Ç–µ–º:
pip install psycopg2-binary
```

**Linux**:
```bash
sudo apt install python3-dev libpq-dev
pip install psycopg2-binary
```

---

## –ü—Ä–æ–±–ª–µ–º—ã —Å API

### ‚ùå "Invalid API key" –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–ª–∏ –Ω–µ —Ç–æ—Ç —Ç–∏–ø –∫–ª—é—á–∞

**–†–µ—à–µ–Ω–∏–µ**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞–Ω–∞–ª –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Write API Key** (–Ω–µ Read!)
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ:
```bash
curl "http://localhost:8000/update?api_key=WRITE_KEY&field1=25.5"
```

---

### ‚ùå "Channel not found" –ø—Ä–∏ –∑–∞–ø–∏—Å–∏

**–ü—Ä–∏—á–∏–Ω–∞**: –ö–∞–Ω–∞–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —É–¥–∞–ª–µ–Ω

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–∞–Ω–∞–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API –∫–ª—é—á –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —ç—Ç–æ–º—É –∫–∞–Ω–∞–ª—É

---

## –ü—Ä–æ–±–ª–µ–º—ã —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

### ‚ùå –ì—Ä–∞—Ñ–∏–∫–∏ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –æ—à–∏–±–∫–∞ JavaScript

**–†–µ—à–µ–Ω–∏–µ**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12) ‚Üí Console
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏ JavaScript
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –∫–∞–Ω–∞–ª–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ:
```bash
curl "http://localhost:8000/channels/1/feeds.json?results=10"
```

---

### ‚ùå 404 –Ω–∞ static —Ñ–∞–π–ª—ã (CSS/JS)

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ static

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–∞–ø–∫–∞ `app/static` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ `app/main.py` –µ—Å—Ç—å:
```python
app.mount("/static", StaticFiles(directory="app/static"), name="static")
```

---

## –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

### ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≥—Ä–∞—Ñ–∏–∫–æ–≤

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π:
```javascript
// –í channel_detail.html
const response = await fetch('/channels/{{ channel.id }}/feeds.json?results=50');
```

2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≥—Ä–µ–≥–∞—Ü–∏—é:
```bash
curl "http://localhost:8000/channels/1/feeds.json?average=10"
```

---

## –†–µ–∂–∏–º –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∑ –ª–æ–≥–∏–Ω–∞:

1. –í `.env`:
```env
AUTH_ENABLED=false
```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python run.py
```

3. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞–Ω–∞–ª—ã –±–µ–∑ –≤—Ö–æ–¥–∞

---

## –û—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏

–í `app/main.py` –¥–æ–±–∞–≤—å—Ç–µ:
```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–æ–∫–µ–Ω –≤–∞–ª–∏–¥–µ–Ω

–í Python –∫–æ–Ω—Å–æ–ª–∏:
```python
from jose import jwt
from app.config import settings

token = "–≤–∞—à_—Ç–æ–∫–µ–Ω"
payload = jwt.decode(token, settings.JWT_SECRET_KEY, algorithms=[settings.JWT_ALGORITHM])
print(payload)
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î

```bash
# SQLite
sqlite3 thingspeak.db "SELECT * FROM users;"

# PostgreSQL  
psql thingspeak -c "SELECT * FROM users;"
```

---

## –°–±—Ä–æ—Å —Å–∏—Å—Ç–µ–º—ã

### –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –ë–î

```bash
# –£–¥–∞–ª–∏—Ç—å –ë–î
rm thingspeak.db  # –¥–ª—è SQLite

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å
python init_db.py
```

### –°–±—Ä–æ—Å –∞–¥–º–∏–Ω–∞

```bash
python init_db.py
# –ê–¥–º–∏–Ω –±—É–¥–µ—Ç –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω —Å –ø–∞—Ä–æ–ª–µ–º –∏–∑ .env
```

---

## –ü–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –≥–¥–µ –∑–∞–ø—É—â–µ–Ω `python run.py`
2. –û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools ‚Üí Console –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `pip list`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env`
5. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å AUTH_ENABLED=false –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

‚úÖ Python 3.8+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω  
‚úÖ –í—Å–µ –ø–∞–∫–µ—Ç—ã –∏–∑ requirements.txt —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã  
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞ (init_db.py)  
‚úÖ –§–∞–π–ª .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω  
‚úÖ –ü–æ—Ä—Ç 8000 —Å–≤–æ–±–æ–¥–µ–Ω  
‚úÖ –ë—Ä–∞—É–∑–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç cookies  
‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ  

–ï—Å–ª–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã - —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å!

