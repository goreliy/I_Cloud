# ‚ö° –ë–´–°–¢–†–´–ô –ó–ê–ü–£–°–ö –°–¢–†–ï–°–°-–¢–ï–°–¢–ê

## üéØ –°–ê–ú–´–ô –ü–†–û–°–¢–û–ô –°–ü–û–°–û–ë

### Windows:
```bash
# –ü—Ä–æ—Å—Ç–æ –¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ:
run_stress_test.bat
```

### –ò–ª–∏ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```bash
python run_stress_test.py
```

**–°–∫—Ä–∏–ø—Ç —Å–∞–º:**
- –ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –∫–∞–Ω–∞–ª—ã
- –ü–æ–ø—Ä–æ—Å–∏—Ç –≤—ã–±—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ó–∞–ø—É—Å—Ç–∏—Ç —Ç–µ—Å—Ç

---

## üöÄ –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ü–†–û–ë–õ–ï–ú–ê**: –î–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–ª–∏—Å—å –≤ –∫–∞–Ω–∞–ª

**–ü–†–ò–ß–ò–ù–ê**: –°—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–ª –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ JSON, –∞ API –æ–∂–∏–¥–∞–µ—Ç URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–†–ï–®–ï–ù–ò–ï**: –ò–∑–º–µ–Ω—ë–Ω —Ñ–∞–π–ª `tests/stress_test.py` - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `params=` –≤–º–µ—Å—Ç–æ `json=`

---

## üìã –ë–´–°–¢–†–ê–Ø –ö–û–ú–ê–ù–î–ê (–µ—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ API –∫–ª—é—á)

```bash
# –õ–µ–≥–∫–∏–π —Ç–µ—Å—Ç
python tests/stress_test.py --api-key YOUR_KEY --workers 5 --rps 50 --duration 30

# –°—Ä–µ–¥–Ω–∏–π —Ç–µ—Å—Ç
python tests/stress_test.py --api-key YOUR_KEY --workers 10 --rps 100 --duration 60

# –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
python tests/stress_test.py --api-key YOUR_KEY --workers 50 --rps 1000 --duration 60
```

---

## üîë –ö–ê–ö –ü–û–õ–£–ß–ò–¢–¨ API –ö–õ–Æ–ß

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `python run.py`
2. –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8000
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ú–æ–∏ –∫–∞–Ω–∞–ª—ã" ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ "Write API Key"

### –°–ø–æ—Å–æ–± 2: –ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
```bash
python -c "import sqlite3; conn=sqlite3.connect('thingspeak.db'); [print(f'Channel {c[0]}: {c[1]}') for c in conn.execute('SELECT channel_id, key FROM api_keys WHERE type=\"write\"').fetchall()]"
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –ë–î:
```bash
# –°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫–∞–Ω–∞–ª–µ
sqlite3 thingspeak.db "SELECT COUNT(*) FROM feeds WHERE channel_id=1"

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 –∑–∞–ø–∏—Å–µ–π
sqlite3 thingspeak.db "SELECT entry_id, field1, field2, created_at FROM feeds WHERE channel_id=1 ORDER BY id DESC LIMIT 5"
```

### –ß–µ—Ä–µ–∑ –≤–µ–±:
–û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞–Ω–∞–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

1. **–°–µ—Ä–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω**: `python run.py`
2. **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –º–∞–ª–æ–≥–æ**: 50 RPS, 5 workers, 30 —Å–µ–∫—É–Ω–¥
3. **–ù–µ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ!** –¢–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–û—á–∏—â–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∞**

---

## üìä –ü–ê–†–ê–ú–ï–¢–†–´

- `--workers` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ (1-1000)
- `--rps` - –ó–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (1-100000)
- `--duration` - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö (1-3600)
- `--channel` - ID –∫–∞–Ω–∞–ª–∞
- `--api-key` - Write API –∫–ª—é—á (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
- `--url` - URL —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: http://localhost:8000)

---

## üéâ –ì–û–¢–û–í–û!

**–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: –°–º. —Ñ–∞–π–ª `–°–¢–†–ï–°–°_–¢–ï–°–¢_–ò–ù–°–¢–†–£–ö–¶–ò–Ø.md`

**–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**: –°–º. —Ä–∞–∑–¥–µ–ª "Troubleshooting" –≤ –ø–æ–ª–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

